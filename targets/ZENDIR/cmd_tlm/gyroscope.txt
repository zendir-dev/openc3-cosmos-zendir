# ---------------------------------------------------------
# Gyroscope Message (GYROSCOPE) - APID 131
# ---------------------------------------------------------

TELEMETRY ZENDIR GYROSCOPE_XML BIG_ENDIAN "Gyroscope XML Structure"
  VIRTUAL
  ACCESSOR patch_xml_accessor.py
  APPEND_ITEM TIME 64 FLOAT
    KEY "/Gyroscope/Time/text()"
  APPEND_ITEM UTC 1024 STRING
    KEY "/Gyroscope/UTC/text()"
  APPEND_ITEM ANGULAR_RATE_X 64 FLOAT
    KEY "/Gyroscope/Data/AngularRateX/text()"
  APPEND_ITEM ANGULAR_RATE_Y 64 FLOAT
    KEY "/Gyroscope/Data/AngularRateY/text()"
  APPEND_ITEM ANGULAR_RATE_Z 64 FLOAT
    KEY "/Gyroscope/Data/AngularRateZ/text()"
  APPEND_ITEM ROTATION_X 64 FLOAT
    KEY "/Gyroscope/Data/RotationX/text()"
  APPEND_ITEM ROTATION_Y 64 FLOAT
    KEY "/Gyroscope/Data/RotationY/text()"
  APPEND_ITEM ROTATION_Z 64 FLOAT
    KEY "/Gyroscope/Data/RotationZ/text()"

TELEMETRY ZENDIR GYROSCOPE BIG_ENDIAN "Packet that contains gyroscope angular rates and rotations."
  APPEND_ITEM CCSDSVER      3 UINT   "CCSDS packet version number (See CCSDS 133.0-B-1)"
  APPEND_ITEM CCSDSTYPE     1 UINT   "CCSDS packet type (command or telemetry)"
    STATE TLM 0
    STATE CMD 1
  APPEND_ITEM CCSDSSHF      1 UINT   "CCSDS secondary header flag"
    STATE FALSE 0
    STATE TRUE 1
  APPEND_ID_ITEM CCSDSAPID 11 UINT 131 "CCSDS application process id"
  APPEND_ITEM CCSDSSEQFLAGS 2 UINT   "CCSDS sequence flags"
    STATE FIRST 1
    STATE CONT 0
    STATE LAST 2
    STATE NOGROUP 3
  APPEND_ITEM CCSDSSEQCNT  14 UINT   "CCSDS packet sequence count"
    OVERFLOW TRUNCATE
  APPEND_ITEM CCSDSLENGTH  16 UINT   "CCSDS packet data length"
  APPEND_ITEM XML 0 BLOCK "Gyroscope XML Data"
    READ_CONVERSION hash_read_conversion.py TLM ZENDIR GYROSCOPE_XML
  ITEM TIME 0 0 DERIVED "Gyroscope timestamp (seconds)"
    READ_CONVERSION openc3/conversions/processor_conversion.py XMLPROCESSOR TIME
  ITEM UTC 0 0 DERIVED "UTC timestamp of the gyroscope data"
    READ_CONVERSION openc3/conversions/processor_conversion.py XMLPROCESSOR UTC
  ITEM ANGULAR_RATE_X 0 0 DERIVED "Angular rate X (rad/s)"
    READ_CONVERSION openc3/conversions/processor_conversion.py XMLPROCESSOR ANGULAR_RATE_X
  ITEM ANGULAR_RATE_Y 0 0 DERIVED "Angular rate Y (rad/s)"
    READ_CONVERSION openc3/conversions/processor_conversion.py XMLPROCESSOR ANGULAR_RATE_Y
  ITEM ANGULAR_RATE_Z 0 0 DERIVED "Angular rate Z (rad/s)"
    READ_CONVERSION openc3/conversions/processor_conversion.py XMLPROCESSOR ANGULAR_RATE_Z
  ITEM ROTATION_X 0 0 DERIVED "Rotation X (deg)"
    READ_CONVERSION openc3/conversions/processor_conversion.py XMLPROCESSOR ROTATION_X
  ITEM ROTATION_Y 0 0 DERIVED "Rotation Y (deg)"
    READ_CONVERSION openc3/conversions/processor_conversion.py XMLPROCESSOR ROTATION_Y
  ITEM ROTATION_Z 0 0 DERIVED "Rotation Z (deg)"
    READ_CONVERSION openc3/conversions/processor_conversion.py XMLPROCESSOR ROTATION_Z
  PROCESSOR XMLPROCESSOR hash_processor.py XML